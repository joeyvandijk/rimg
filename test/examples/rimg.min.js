"use strict";!function(){console||(console={log:function(){},error:function(){}}),Object.create||(Object.create=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,o=function(){},n=function(){return i.apply(this instanceof o&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,n.prototype=new o,n});var e=function(){function e(e){if("string"==typeof e){var t=e.split(",");if(0===t.length)return u.status="error",console.error("Rimg: your breakpoint-definition "+e+" is invalid, check the documentation."),null;for(var i=[],o=0,n=t.length;n>o;){for(var r=t[o],s={src:[],width:-1,height:-1,pixelRatio:[],getSrc:function(e){var t=this.pixelRatio.length;if(0===t)return u.status="error",console.error("Rimg: missing a pixelRatio definition, check the documentation."),"";if(1===t)return this.src[0];if(2===t)return 1>=e?this.src[0]:this.src[1];for(var i=0,o=this.pixelRatio.length;o>i;){if(e===this.pixelRatio[i]||Math.round(e)===this.pixelRatio[i])return this.src[i];i++}return this.src[t-1]}},a=r.split(" "),d=0,c=a.length;c>d;){var l=a[d];""===l.replace(" ","")||(null!==l.match(/^[0-9]{0,4}w/gi)?s.width=Number(l.substr(0,l.length-1)):null!==l.match(/^[0-9]{0,4}h/gi)?s.height=Number(l.substr(0,l.length-1)):null!==l.match(/[0-9]{1}x$/gi)?s.pixelRatio.push(Number(l.substr(0,l.length-1))):s.src.push(l)),d++}for(var h=0,f=i.length,g=!1;f>h;){var m=i[h];if(m.width===s.width&&-1!==m.width||m.height===s.height&&-1!==m.height){m.pixelRatio.push(s.pixelRatio[0]),m.src.push(s.src[0]),g=!0;break}h++}g||i.push(s),o++}return i.length>0?i:(u.status="error",console.error("Rimg: your breakpoint-definition misses valid breakpoints, check the documentation."),null)}return u.status="error",console.error("Rimg: your breakpoint-definition is not a String, check the documentation."),null}function t(e){u.imageEvents.changed--,"error"===e.type&&u.imageEvents.errors++,0===u.imageEvents.changed&&u.imagesLoaded&&u.imagesLoaded(u.imageEvents.errors>0?!0:!1)}function i(e,t,i,o){void 0===o&&(o=document),"resize"===t&&(o=window),u.isIE8?("DOMContentLoaded"===t&&(t="onreadystatechange"),"resize"===t&&(t="onresize"),"add"===e?o.attachEvent(t,i):o.detachEvent(t,i)):"add"===e?o.addEventListener(t,i,!1):o.removeEventListener(t,i,!1)}function o(e){return e?e.substr(e.lastIndexOf(".")+1).toLowerCase():null}function n(e){for(var t=0,i=u.images.length,n=!1;i>t;){if(u.images[t]===e){n=!0;break}t++}if(!n){var r;r=e.getAttribute("img"===e.nodeName.toLowerCase()?"data-src":"data-background-image");var s=o(r);s&&"svg"!=s&&u.images.push(e)}}function r(e){var n=!0;if(!u.disableLazyLoading){var r=e.getBoundingClientRect();n=!(r.top+r.height<-u.offset.y||r.top>-u.offset.y+u.resizeDimensions.height+u.offset.y||r.left+r.width<-u.offset.x||r.left>-u.offset.x+u.resizeDimensions.width+u.offset.x)}var s,a,d=window.devicePixelRatio||1;if("img"===e.nodeName.toLowerCase()?(s=e.getAttribute("data-src"),a="image"):(s=e.getAttribute("data-background-image"),a="background"),null!==s&&n){var c,l=s.substr(0,s.lastIndexOf(".")),h=o(s),f={x:e.width,y:e.height};(0===e.width||void 0===e.width)&&(c="image"===a?"maxWidth":"width",f.x=window.getComputedStyle(e,null)[c],f.x=f.x.replace("px",""),f.x=Number(f.x)),0===e.height&&(c="image"===a?"maxHeight":"height",f.y=window.getComputedStyle(e,null)[c],f.y=f.y.replace("px",""),f.y=Number(f.y));for(var g,m=0,b=u.breakpoints.length;b>m;){var p=u.breakpoints[m],w=f.x;if(f.x<f.y,w<=p.width){g=p;break}m++}void 0===g&&(g=u.breakpoints[u.breakpoints.length-1]);var v=!1,y=l+g.getSrc(d)+"."+h;"image"===a&&e.getAttribute("src")!==y&&"svg"!=h?(e.setAttribute("src",y),v=!0):"background"===a&&-1===e.style.backgroundImage.indexOf(y)&&"svg"!=h&&(e.style.backgroundImage="url("+y+")"),v&&(u.imageEvents.changed++,i("add","load",t,e),i("add","error",t,e))}}function s(e){if("img"===e.nodeName.toLowerCase()||e.hasAttribute("data-background-image"))n(e),r(e);else for(var t=0,i=e.children.length;i>t;){var o=e.children[t];s(o),t++}}function a(){for(var e=0,t=u.images.length;t>e;)r(u.images[e]),e++}function d(){var e,t;u.isIE8?(e=document.body.clientWidth,t=document.body.clientHeight):(e=window.innerWidth,t=window.innerHeight);var i=!1;return(u.resizeDimensions.width!==e||u.resizeDimensions.height!==t)&&(u.resizeDimensions.width=e,u.resizeDimensions.height=t,i=!0),i}function c(){clearTimeout(u.resizeInfo.wait),d()&&a(),u.resizeInfo.time=(new Date).getTime()}function l(e){this.execute(e.target)}var u={status:"init",observer:null,breakpoints:[],images:[],imageEvents:{changed:0,errors:0},imagesLoaded:null,offset:{x:100,y:100},resizeInfo:{wait:null,time:null},resizeDimensions:{width:0,height:0},disableIntrospection:!1,disableLazyLoading:!1,isIE8:!1};if(void 0===window.addEventListener&&(u.isIE8=!0),"undefined"!=typeof window.RimgOptions){var h=e(window.RimgOptions.breakpoint);null!==h&&(u.breakpoints=h),window.RimgOptions.disableIntrospection===!0&&(u.disableIntrospection=!0),window.RimgOptions.disableLazyLoading===!0&&(u.disableLazyLoading=!0),null!=window.RimgOptions.offset&&"number"==typeof window.RimgOptions.offset.x&&"number"==typeof window.RimgOptions.offset.y&&(u.offset.x=window.RimgOptions.offset.x,u.offset.y=window.RimgOptions.offset.y),null!=window.RimgOptions.complete&&"function"==typeof window.RimgOptions.complete&&(u.imagesLoaded=window.RimgOptions.complete),window.RimgOptions=void 0}else console.log("(remark) Rimg: no breakpoints defined (yet), check the documentation or manually adjust it.");return{version:"1.9.0",execute:function(e){if("error"===u.status)return void console.error("Rimg.execute(): error-status so no actions can be executed, check your code.");if(void 0===e)return void console.error("Rimg.execute(): undefined value, check your code to add a valid DOM element to this function.");if(0===u.breakpoints.length)return void console.log("(remark) Rimg.execute(): no breakpoints defined (yet), probably because of manual control.");if("#document"===e.nodeName)if(u.images.splice(0,u.images.length),e.childNodes.length>1){var t;if("HTML"!==e.childNodes[1].nodeName)for(var i=0,o=e.childNodes.length;o>i;){if("HTML"===e.childNodes[i].nodeName){t=e.childNodes[i];break}i++}else t=e.childNodes[1];if("BODY"!==t.childNodes[1].nodeName)for(var i=0,o=t.childNodes.length;o>i;){if("BODY"===t.childNodes[i].nodeName){s(t.childNodes[i]);break}i++}else s(t.childNodes[1])}else console.error("Rimg.execute(): not a valid DOM representation, check your code.");else void 0!==e&&void 0!==e.nodeName&&"img"===e.nodeName.toLowerCase()?s(e):void 0!==e[0]&&"img"===e[0].nodeName.toLowerCase()&&s(e[0])},configure:function(t){if(!(t instanceof Object))return void console.error("Rimg: your definition is not an object, check the documentation.");if(t.breakpoint){var i=e(t.breakpoint);null!==i&&(u.breakpoints=i)}t.disableIntrospection===!0&&(u.disableIntrospection=!0),t.disableLazyLoading===!0&&(u.disableLazyLoading=!0),null!=t.offset&&"number"==typeof t.offset.x&&"number"==typeof t.offset.y&&(u.offset.x=t.offset.x,u.offset.y=t.offset.y),"ready"!==u.status||u.disableIntrospection||(d(),this.execute(document))},resized:function(){"ready"===u.status&&(null!==u.resizeInfo.wait&&clearTimeout(u.resizeInfo.wait),null===u.resizeInfo.time||(new Date).getTime()-u.resizeInfo.time>1e3?c.bind(this)():u.resizeInfo.wait=setTimeout(c.bind(this),100))},scrolled:function(){u.disableLazyLoading||a()},loaded:function(){"progress"===u.status&&(u.isIE8&&"complete"!=document.readyState||(i("remove","DOMContentLoaded",this.loaded),d(),u.disableIntrospection||(null===u.observer?this.execute(document):(u.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-src"]}),this.execute(document)),i("add","resize",this.resized.bind(this))),u.disableLazyLoading||i("add","scroll",this.scrolled.bind(this)),u.status="ready"))},disableLazyLoading:function(){u.disableLazyLoading=!0},disableIntrospection:function(){u.disableIntrospection=!0,u.observer?u.observer.disconnect():i("remove","DOMNodeInserted",l)},initialize:function(){if("init"!==u.status)return void("error"!==u.status&&console.error("Rimg.initialize(): Already initialized. No forced initialization supported, check your code."));var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;void 0===t||u.isIE8?(i("add","DOMAttrModified",function(t){e.execute(t.target)}),i("add","DOMNodeInserted",l.bind(e))):u.observer=new t(function(t){t.forEach(function(t){t.addedNodes.length>0?e.execute(t.addedNodes):"data-src"===t.attributeName&&e.execute(t.target)})}),u.status="progress","interactive"!==document.readyState&&"complete"!==document.readyState||!document.body?i("add","DOMContentLoaded",this.loaded.bind(this)):this.loaded.bind(this)()}}};window.Rimg=Object.create(e()),window.Rimg.initialize()}();